<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>For Sukhda ‚ù§Ô∏è</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

body {
font-family: Georgia, serif;
background: linear-gradient(135deg, #fff1f5 0%, #ffe4e9 50%, #ffd6e0 100%);
display: flex;
justify-content: center;
align-items: center;
min-height: 100vh;
overflow-x: hidden;
touch-action: manipulation;
}

.hearts-bg {
position: fixed;
inset: 0;
pointer-events: none;
z-index: 1;
overflow: hidden;
}

.heart {
position: absolute;
font-size: 20px;
animation: float 8s linear infinite;
opacity: 0;
}

@keyframes float {
0% {
opacity: 0;
transform: translateY(0) rotate(0deg);
}
10% {
opacity: 0.8;
}
90% {
opacity: 0.8;
}
100% {
opacity: 0;
transform: translateY(-100vh) rotate(360deg);
}
}

.overlay {
position: fixed;
inset: 0;
background: linear-gradient(135deg, #ffdde6, #ffc1d1, #ffb3c6);
display: flex;
flex-direction: column;
justify-content: center;
align-items: center;
gap: 20px;
z-index: 100;
cursor: pointer;
transition: opacity 0.5s;
touch-action: manipulation;
}

.overlay.hide {
opacity: 0;
pointer-events: none;
}

.tap-button {
background: white;
padding: 20px 35px;
border-radius: 35px;
color: #c2185b;
font-size: 24px;
box-shadow: 0 8px 25px rgba(194, 24, 91, 0.3);
animation: pulse 2s infinite;
cursor: pointer;
user-select: none;
-webkit-user-select: none;
}

@keyframes pulse {
0%, 100% { transform: scale(1); }
50% { transform: scale(1.05); }
}

.tap-button:active {
transform: scale(0.95);
}

.overlay p {
color: #c2185b;
font-size: 16px;
font-style: italic;
}

.card {
text-align: center;
max-width: 450px;
width: 90%;
display: flex;
flex-direction: column;
align-items: center;
gap: 25px;
z-index: 2;
padding: 20px;
background: rgba(255, 255, 255, 0.95);
border-radius: 30px;
box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
opacity: 0;
transform: scale(0.9);
transition: all 0.5s;
}

.card.show {
opacity: 1;
transform: scale(1);
}

.photo-box {
position: relative;
width: 100%;
max-width: 280px;
height: 350px;
border-radius: 25px;
overflow: hidden;
box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
}

.photo-box img {
width: 100%;
height: 100%;
object-fit: cover;
}

.photo-box .placeholder {
width: 100%;
height: 100%;
background: linear-gradient(135deg, #ff9a9e, #fecfef);
display: flex;
justify-content: center;
align-items: center;
font-size: 80px;
}

h1 {
font-size: 20px;
line-height: 1.7;
color: #5a1a2b;
margin: 0 15px;
font-weight: 500;
}

.dots {
display: flex;
gap: 8px;
margin: 10px 0;
}

.dot {
width: 10px;
height: 10px;
border-radius: 50%;
background: #ddd;
transition: all 0.3s;
}

.dot.active {
background: #e63961;
transform: scale(1.3);
}

button {
padding: 14px 32px;
border: none;
border-radius: 28px;
background: #e63961;
color: white;
font-size: 17px;
cursor: pointer;
font-family: Georgia, serif;
transition: all 0.3s;
box-shadow: 0 5px 15px rgba(230, 57, 97, 0.3);
user-select: none;
-webkit-user-select: none;
touch-action: manipulation;
}

button:hover {
background: #d12d4f;
transform: translateY(-2px);
box-shadow: 0 8px 20px rgba(230, 57, 97, 0.4);
}

button:active {
transform: translateY(0);
}

#noBtn {
position: fixed;
background: #999;
z-index: 50;
}

.confetti {
position: fixed;
width: 10px;
height: 10px;
z-index: 999;
animation: fall 3s linear;
}

@keyframes fall {
to {
transform: translateY(110vh) rotate(720deg);
opacity: 0;
}
}

.final {
display: flex;
flex-direction: column;
gap: 25px;
}

.final h1 {
font-size: 26px;
color: #c2185b;
}

.success {
background: linear-gradient(135deg, #ff9a9e, #fecfef);
padding: 30px;
border-radius: 20px;
animation: bounce 0.8s;
}

@keyframes bounce {
0% { transform: scale(0); }
50% { transform: scale(1.1); }
100% { transform: scale(1); }
}

@media (max-width: 480px) {
.tap-button {
font-size: 20px;
padding: 16px 28px;
}
.card {
gap: 20px;
padding: 15px;
}
.photo-box {
height: 300px;
}
h1 {
font-size: 18px;
}
button {
padding: 12px 24px;
font-size: 15px;
}
}
</style>

</head>
<body>

<div class="hearts-bg" id="hearts"></div>

<div class="overlay" id="overlay">
  <div class="tap-button" id="tapButton">Tap to Begin üíï</div>
  <p>A special message for Sukhda</p>
</div>

<div class="card" id="card">
  <div class="photo-box">
    <img id="photo" src="img1.jpg" alt="Photo" style="display:none;">
    <div class="placeholder">üíï</div>
  </div>
  <h1 id="text"></h1>
  <div class="dots" id="dots"></div>
  <button id="nextBtn">Continue üíó</button>
</div>

<script>
const pages = [
  { img: "img1.jpg", text: "Sukhda, I promise to listen to you, even when words fail you." },
  { img: "img2.jpg", text: "I promise to support your dreams, even when they scare us both." },
  { img: "img3.jpg", text: "I promise to choose you, even on the hard days." },
  { img: "img4.jpg", text: "I promise to protect your heart like it's my own." },
  { img: "img5.jpg", text: "I promise to grow with you, not away from you." },
  { img: "img6.jpg", text: "I promise to laugh with you, especially when life feels heavy." },
  { img: "img7.jpg", text: "I promise to respect your space and cherish your presence." },
  { img: "img8.jpg", text: "I promise to love you in ways words may never fully explain." },
  { img: "img9.jpg", text: "I promise my heart will always feel like home to you." },
  { img: "img10.jpg", text: "Sukhda, will you be mine forever? üíç‚ù§Ô∏è" }
];

let i = 0;
let moveCount = 0;

// Create floating hearts
function makeHearts() {
  const h = document.createElement('div');
  h.className = 'heart';
  h.textContent = '‚ù§Ô∏è';
  h.style.left = Math.random() * 100 + 'vw';
  h.style.animationDuration = (5 + Math.random() * 5) + 's';
  h.style.animationDelay = Math.random() * 5 + 's';
  document.getElementById('hearts').appendChild(h);
  setTimeout(() => h.remove(), 10000);
}

for (let j = 0; j < 15; j++) makeHearts();
setInterval(makeHearts, 2000);

// Create progress dots
function makeDots() {
  const d = document.getElementById('dots');
  d.innerHTML = '';
  for (let j = 0; j < pages.length; j++) {
    const dot = document.createElement('div');
    dot.className = 'dot' + (j === i ? ' active' : '');
    d.appendChild(dot);
  }
}

function updateDots() {
  const dots = document.querySelectorAll('.dot');
  dots.forEach((dot, j) => {
    dot.className = 'dot' + (j === i ? ' active' : '');
  });
}

// Start the experience
function start() {
  console.log('Start clicked!'); // Debug
  const overlay = document.getElementById('overlay');
  overlay.classList.add('hide');
  
  setTimeout(() => {
    overlay.style.display = 'none';
    document.getElementById('card').classList.add('show');
  }, 500);
  
  makeDots();
  show();
}

// Show current page
function show() {
  const img = document.getElementById('photo');
  const ph = img.nextElementSibling;
  const txt = document.getElementById('text');
  
  img.onload = function() {
    img.style.display = 'block';
    ph.style.display = 'none';
  };
  img.onerror = function() {
    img.style.display = 'none';
    ph.style.display = 'flex';
  };
  
  img.src = pages[i].img;
  txt.textContent = pages[i].text;
  updateDots();
}

// Next page
function next() {
  console.log('Next clicked!'); // Debug
  if (i < pages.length - 1) {
    i++;
    show();
  } else {
    final();
  }
}

// Final proposal screen
function final() {
  document.getElementById('card').innerHTML = `
    <div class="final">
      <h1>Will you be my Valentine, Sukhda? üíñ</h1>
      <button id="yesBtn">YES üíç</button>
      <button id="noBtn">NO üôà</button>
    </div>
  `;
  
  // Add event listeners to new buttons
  document.getElementById('yesBtn').addEventListener('click', yes);
  document.getElementById('yesBtn').addEventListener('touchend', yes);
  
  document.getElementById('noBtn').addEventListener('click', moveNo);
  document.getElementById('noBtn').addEventListener('touchend', moveNo);
}

// Move the No button
function moveNo(e) {
  if (e) e.preventDefault();
  
  const btn = document.getElementById('noBtn');
  const w = window.innerWidth;
  const h = window.innerHeight;
  
  moveCount++;
  btn.style.transform = 'scale(' + Math.max(0.5, 1 - moveCount * 0.1) + ')';
  
  const maxX = w - btn.offsetWidth - 20;
  const maxY = h - btn.offsetHeight - 20;
  
  btn.style.left = Math.max(20, Math.random() * maxX) + 'px';
  btn.style.top = Math.max(20, Math.random() * maxY) + 'px';
  
  if (moveCount >= 5) btn.textContent = 'NO? üò¢';
  if (moveCount >= 8) btn.textContent = 'Sure? ü•∫';
  if (moveCount >= 12) {
    setTimeout(() => {
      alert("I know you love me! üòäüíï");
      yes();
    }, 500);
  }
}

// She said yes!
function yes(e) {
  if (e) e.preventDefault();
  
  console.log('YES clicked!'); // Debug
  
  // Create confetti
  for (let j = 0; j < 100; j++) {
    const c = document.createElement('div');
    c.className = 'confetti';
    c.style.left = Math.random() * 100 + 'vw';
    c.style.background = 'hsl(' + Math.random() * 360 + ', 100%, 60%)';
    c.style.animationDuration = (2 + Math.random() * 3) + 's';
    c.style.animationDelay = Math.random() * 0.5 + 's';
    document.body.appendChild(c);
    setTimeout(() => c.remove(), 5000);
  }
  
  document.getElementById('card').innerHTML = `
    <div class="success">
      <h1 style="font-size:32px;margin-bottom:15px">YAYYYY! üéâ‚ù§Ô∏èüíç</h1>
      <h1 style="font-size:24px">I love you forever, Sukhda!</h1>
      <p style="margin-top:20px;font-size:18px;font-style:italic">
        You've made me the happiest! üíï
      </p>
    </div>
  `;
}

// Event listeners - Multiple methods for maximum compatibility
const overlay = document.getElementById('overlay');
const tapButton = document.getElementById('tapButton');
const nextBtn = document.getElementById('nextBtn');

// Overlay start - try all methods
overlay.addEventListener('click', start);
overlay.addEventListener('touchend', function(e) {
  e.preventDefault();
  start();
});

tapButton.addEventListener('click', start);
tapButton.addEventListener('touchend', function(e) {
  e.preventDefault();
  start();
});

// Next button
nextBtn.addEventListener('click', next);
nextBtn.addEventListener('touchend', function(e) {
  e.preventDefault();
  next();
});

// Prevent double-tap zoom on iOS
document.addEventListener('touchend', function(e) {
  const now = Date.now();
  if (now - (window.lastTap || 0) < 300) {
    e.preventDefault();
  }
  window.lastTap = now;
}, false);

// Debug - log when page loads
console.log('Page loaded successfully!');
console.log('Click anywhere on the pink screen to begin');
</script>

</body>
</html>
